---
layout: post
mathjax: true
title: Keithley 2410 with NI-VISA and a CentOS7 machine
---

Getting this to work was really hard to do. So hard that I decided to start this blog in order to help others not have to go through this painful process. Before we start, these are the relevant specs of my machine.
```
CentOS Linux (3.10.0-862.11.6.el7.x86_64) 7 (Core)
ROOT 6.14/02
```
Until recently, National Instruments didn't properly support the installation of their software for linux machines. Fortunately of October 2018 they provide a proper RPM for linux! Their documentation can be found [here:](http://www.ni.com/product-documentation/54754/en/)

but I will try to give a more 

Launch NI Visa interactive control from the command line:
`NIvisaic`
(a tutorial can be found https://www.ni.com/tutorial/2816/en/ )
(for reference you can also investigate NI devices with `visaconf`


-----------
Unfortunately, NI-VISA 18 (and 17) both don't work with ITSDAQ. Which is an absolute travesty since v18 is properly managed in an rpm instead of stupid install scripts provided for the earlier versions of NI's linux software.

mount mxdaq base, install
will fail, cd into the nivisa directory
intsall
restart

edit `/usr/local/natinst/nikal/src/nikal/nikal.c`
After line 2015 add line #define ... (see twiki)
add "NULL" to the end of the function arguments at line 3700

get NI 488.2 from
https://download.ni.com/support/softlib/gpib/linux/15.1/patch/NI4882-15.1.1f0.iso 
